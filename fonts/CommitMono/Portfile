# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

categories          fonts
name                CommitMono
version             141
revision            0

description         An anonymous and neutral coding font focused on creating a better reading experience.
long_description    {*}${description}

homepage            https://commitmono.com/

platforms           {darwin any}
supported_archs     noarch
maintainers         {amake @amake} openmaintainer
license             OFL

use_configure       no

master_sites        https://commitmono.com/src/fonts/fontlab/

distfiles           ${name}V${version}-400Regular.otf \
                    ${name}V${version}-400Italic.otf \
                    ${name}V${version}-700Regular.otf \
                    ${name}V${version}-700Italic.otf

checksums           ${name}V${version}-400Regular.otf \
                        rmd160  bf127278468c73f6b184fc2701715802610b011f \
                        sha256  7c1fa057c2c9d6d375ac701cb1bf3cc35705d13863ab0b4e710855b349c3ca83 \
                        size    151704 \
                    ${name}V${version}-400Italic.otf \
                        rmd160  5c05b79354e0efff5da7764480bc7b7ee0b8f108 \
                        sha256  7890950890846c4d4f87b771794d1eb75d70d4526be1ebbe6275d67ad7158a2e \
                        size    158512 \
                    ${name}V${version}-700Regular.otf \
                        rmd160  cc96a06e39689a1676ba738b2c36222503c818bd \
                        sha256  e9a73a337755270967547b604f672ddc1b7045deacd7d69a449126a8efa6d620 \
                        size    153556 \
                    ${name}V${version}-700Italic.otf \
                        rmd160  9c18c500ddce853272674073e23162396152c14b \
                        sha256  5f0ebdda1c149d9e2198bb3bc02c545e0f8dc42190f1dc816af8062167b41cdb \
                        size    156472

build {}

destroot.violate_mtree yes

destroot {
    set target ${destroot}/Library/Fonts/
    xinstall -m 0755 -d ${target}
    copy {*}[glob ${distpath}/${name}V${version}*.otf] ${target}
}

livecheck.type      regex
livecheck.regex     {V([0-9]+)}
livecheck.url       ${homepage}
