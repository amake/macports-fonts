# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

categories          fonts
name                CommitMono
version             134
revision            0

description         An anonymous and neutral coding font focused on creating a better reading experience.
long_description    {*}${description}

homepage            https://commitmono.com/

platforms           {darwin any}
supported_archs     noarch
maintainers         {amake @amake} openmaintainer
license             OFL

use_configure       no

master_sites        https://commitmono.com/src/fonts/

distfiles           ${name}V${version}-450Regular.otf \
                    ${name}V${version}-450Italic.otf \
                    ${name}V${version}-700Regular.otf \
                    ${name}V${version}-700Italic.otf

checksums           ${name}V${version}-450Regular.otf \
                        rmd160  0f2414e2ffa224f88b84d9f029ba3cb28cb9f662 \
                        sha256  3547fbce3070c9bd655dcab0a1bc0bb378e23c2a5a9b08a1d372a4cadaf7bc81 \
                        size    136176 \
                    ${name}V${version}-450Italic.otf \
                        rmd160  52004ae2d22705b2e394673399c9f24271b56562 \
                        sha256  26b93e17dba35cd96049caf2c1e7cfd13743f1f52d3a58fbd707ab57c60a5392 \
                        size    141300 \
                    ${name}V${version}-700Regular.otf \
                        rmd160  bfab07756695f6c661a55bfc03074eea0ab30bb3 \
                        sha256  25f02ac09df1bc98c46168ed32314254aedfad3294850dd8fce32bf2fb0e1403 \
                        size    137216 \
                    ${name}V${version}-700Italic.otf \
                        rmd160  37ecf902e4762f9350b3b5ec37ed3b04f4659945 \
                        sha256  f99e14dcd40e59bb615412929d012b342f91d43956f36acefaa1edd340cb1755 \
                        size    140604

build {}

destroot.violate_mtree yes

destroot {
    set target ${destroot}/Library/Fonts/
    xinstall -m 0755 -d ${target}
    copy {*}[glob ${distpath}/${name}V${version}*.otf] ${target}
}

livecheck.type      regex
livecheck.regex     {V([0-9]+)}
livecheck.url       ${homepage}
