# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

categories          fonts
name                CommitMono
version             142
revision            0

description         An anonymous and neutral coding font focused on creating a better reading experience.
long_description    {*}${description}

homepage            https://commitmono.com/

platforms           {darwin any}
supported_archs     noarch
maintainers         {amake @amake} openmaintainer
license             OFL

use_configure       no

master_sites        https://commitmono.com/src/fonts/fontlab/

distfiles           ${name}V${version}-400Regular.otf \
                    ${name}V${version}-400Italic.otf \
                    ${name}V${version}-700Regular.otf \
                    ${name}V${version}-700Italic.otf

checksums           ${name}V${version}-400Regular.otf \
                        rmd160  0e06c0f9cbfb4b069cdc6701a470b1307306979e \
                        sha256  0283fa3bbdb5cb2cb695946a60ea4aa2a0ceb872079304fe548188ab82ee58b2 \
                        size    151916 \
                    ${name}V${version}-400Italic.otf \
                        rmd160  a239d05e48d95fd411f1224d96a78520cc52e40d \
                        sha256  b16e9bffde3eecba3575fcbd28751f2fc1b3e255031d7c515a1c531f41696420 \
                        size    157992 \
                    ${name}V${version}-700Regular.otf \
                        rmd160  fe3b9e9a40a0f507f9e9d3bd83d07603b199fe70 \
                        sha256  3450c73e1119cd712d7968adb066394afe2fec6dfa4649cf613d889b10f0a3cc \
                        size    153620 \
                    ${name}V${version}-700Italic.otf \
                        rmd160  9232f2f433c43ac9c67bb67424802e522dc39007 \
                        sha256  df4e26eea710cefae19c827bee93157ccd363621a7f5a965d792d871c9ef3177 \
                        size    156672

build {}

destroot.violate_mtree yes

destroot {
    set target ${destroot}/Library/Fonts/
    xinstall -m 0755 -d ${target}
    copy {*}[glob ${distpath}/${name}V${version}*.otf] ${target}
}

livecheck.type      regex
livecheck.regex     {V([0-9]+)}
livecheck.url       ${homepage}
