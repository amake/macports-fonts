# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

categories          fonts
name                CommitMono
version             135
revision            0

description         An anonymous and neutral coding font focused on creating a better reading experience.
long_description    {*}${description}

homepage            https://commitmono.com/

platforms           {darwin any}
supported_archs     noarch
maintainers         {amake @amake} openmaintainer
license             OFL

use_configure       no

master_sites        https://commitmono.com/src/fonts/

distfiles           ${name}V${version}-450Regular.otf \
                    ${name}V${version}-450Italic.otf \
                    ${name}V${version}-700Regular.otf \
                    ${name}V${version}-700Italic.otf

checksums           ${name}V${version}-450Regular.otf \
                        rmd160  5c366fd218d16f11ab953c96d2af5238114016f8 \
                        sha256  d6c66a1b6edcc94fcb7abab7288fe433036bf55a562e2ba4ab7acf788e0c9970 \
                        size    140188 \
                    ${name}V${version}-450Italic.otf \
                        rmd160  9d8ee91f052682c7e3de230f6a84d0eee1d7cc69 \
                        sha256  79ef00e52ff1ee2662b4c5b6a8fc8b46ba134a55afc44694b1c611d48531dec5 \
                        size    146508 \
                    ${name}V${version}-700Regular.otf \
                        rmd160  9d67d14e4698909b6d8390bb3d35cf08f7330bbe \
                        sha256  42d9bdde915b56fccf54ebac076cd19cf78bda9529a2d87c929c74f9a508f0e0 \
                        size    142132 \
                    ${name}V${version}-700Italic.otf \
                        rmd160  bc83a97fc827c7511aaeff8c909af8f0640ba906 \
                        sha256  5fa33ef56d80cedba9589dcba663e90252afdb14f5deb4011dd760024b67d9fb \
                        size    145592

build {}

destroot.violate_mtree yes

destroot {
    set target ${destroot}/Library/Fonts/
    xinstall -m 0755 -d ${target}
    copy {*}[glob ${distpath}/${name}V${version}*.otf] ${target}
}

livecheck.type      regex
livecheck.regex     {V([0-9]+)}
livecheck.url       ${homepage}
