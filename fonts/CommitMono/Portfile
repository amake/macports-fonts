# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

categories          fonts
name                CommitMono
version             133
revision            0

description         An anonymous and neutral coding font focused on creating a better reading experience.
long_description    {*}${description}

homepage            https://commitmono.com/

platforms           {darwin any}
supported_archs     noarch
maintainers         {amake @amake} openmaintainer
license             OFL

use_configure       no

master_sites        https://commitmono.com/src/fonts/

distfiles           ${name}V${version}-450Regular.otf \
                    ${name}V${version}-450Italic.otf \
                    ${name}V${version}-700Regular.otf \
                    ${name}V${version}-700Italic.otf

checksums           ${name}V${version}-450Regular.otf \
                        rmd160  b8bf4d702f54dd930431c7c4a869a27dbf881bf7 \
                        sha256  36bbd2718369e6fe5f7b18f50b145dea3d9d4274591474630200abc96e78a0cb \
                        size    136900 \
                    ${name}V${version}-450Italic.otf \
                        rmd160  5f78520f3700a0cb707bcaf6f24a9ed6f36559f4 \
                        sha256  76d9d56cc4d5d3f4e43c255d00fa950d0b7913560ecbd86d0fc751173642c37d \
                        size    141924 \
                    ${name}V${version}-700Regular.otf \
                        rmd160  f597b58f2b7f1443c818ebfa7956f53fcc4a4c02 \
                        sha256  25b88e13e2d4711c3fa0dd1763d3677dc5edf1122a9e1e1a937f0b570df8697f \
                        size    138072 \
                    ${name}V${version}-700Italic.otf \
                        rmd160  1f6e6bf89334dac4f2aa79de6e4085dd2da44263 \
                        sha256  8d9a74d2bf3d164444b4c7190bab0cbd74e12fd4cd23d20ae6dd369d098592af \
                        size    140916

build {}

destroot.violate_mtree yes

destroot {
    set target ${destroot}/Library/Fonts/
    xinstall -m 0755 -d ${target}
    copy {*}[glob ${distpath}/${name}V${version}*.otf] ${target}
}

livecheck.type      regex
livecheck.regex     {V([0-9]+)}
livecheck.url       ${homepage}
