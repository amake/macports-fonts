# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

categories          fonts
name                CommitMono
version             138
revision            0

description         An anonymous and neutral coding font focused on creating a better reading experience.
long_description    {*}${description}

homepage            https://commitmono.com/

platforms           {darwin any}
supported_archs     noarch
maintainers         {amake @amake} openmaintainer
license             OFL

use_configure       no

master_sites        https://commitmono.com/src/fonts/fontlab/

distfiles           ${name}V${version}-400Regular.otf \
                    ${name}V${version}-400Italic.otf \
                    ${name}V${version}-700Regular.otf \
                    ${name}V${version}-700Italic.otf

checksums           CommitMonoV138-400Regular.otf \
                    rmd160  2db5722c212adaf4631f3c4b236bd64d2b51b5d9 \
                    sha256  0110d82a7a42992eaf16dd27834df8acd717b7c61c473ebd9255a14fec1417c4 \
                    size    151792 \
                    CommitMonoV138-400Italic.otf \
                    rmd160  ef532232fb47d3059324382978c52f776e422f5b \
                    sha256  69a8e476958d50bc1077a962bbd45811c06a3957d6e9c54d9b084d2c82b5c43e \
                    size    158036 \
                    CommitMonoV138-700Regular.otf \
                    rmd160  38b0c32b173dafe6a0a4bd4c2e4d4530158001a1 \
                    sha256  20d6a70353d56fc37d5a7a89ceaaf2a0d0ddb3154be02b1338d2574d46b53eaf \
                    size    154308 \
                    CommitMonoV138-700Italic.otf \
                    rmd160  574b7de25a8e18e3dc01f99d82b1f75d4a8e08b1 \
                    sha256  5aabbe7b38be00e57a1e284f314ab70c97f3d7dd20c718312fcc6b419e259713 \
                    size    157372

build {}

destroot.violate_mtree yes

destroot {
    set target ${destroot}/Library/Fonts/
    xinstall -m 0755 -d ${target}
    copy {*}[glob ${distpath}/${name}V${version}*.otf] ${target}
}

livecheck.type      regex
livecheck.regex     {V([0-9]+)}
livecheck.url       ${homepage}
