# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

categories          fonts
name                CommitMono
version             139
revision            0

description         An anonymous and neutral coding font focused on creating a better reading experience.
long_description    {*}${description}

homepage            https://commitmono.com/

platforms           {darwin any}
supported_archs     noarch
maintainers         {amake @amake} openmaintainer
license             OFL

use_configure       no

master_sites        https://commitmono.com/src/fonts/fontlab/

distfiles           ${name}V${version}-400Regular.otf \
                    ${name}V${version}-400Italic.otf \
                    ${name}V${version}-700Regular.otf \
                    ${name}V${version}-700Italic.otf

checksums           ${name}V${version}-400Regular.otf \
                        rmd160  3eed239ba0d0d194ad049a7a24f687d4fc3d6e35 \
                        sha256  47298e8c24f686207a74012cdfc73875f8d1ceedf9d65e1cd5b1e8d16bc83152 \
                        size    150784 \
                    ${name}V${version}-400Italic.otf \
                        rmd160  ea6c53d1cea7c8c777f2b5e0666604387a653a46 \
                        sha256  91bcc88e63b719f47e6c2cd5a1f9addc5b973b56e73c821e65e1016977c907b3 \
                        size    157028 \
                    ${name}V${version}-700Regular.otf \
                        rmd160  c356fa2c6c683d69d53469fa5beb15d4ae213b25 \
                        sha256  e927873f015894bf68c6ddb56caa49ebb59eb0f4c4c5bed6dc66c23915316757 \
                        size    152640 \
                    ${name}V${version}-700Italic.otf \
                        rmd160  f4bfef74aa90fa0dda0cb481f219e75b5fe87394 \
                        sha256  b9c9e635570d061eb79a38a84cfedbdaa26d38c8081c3d253629ff6e2867a54c \
                        size    156144

build {}

destroot.violate_mtree yes

destroot {
    set target ${destroot}/Library/Fonts/
    xinstall -m 0755 -d ${target}
    copy {*}[glob ${distpath}/${name}V${version}*.otf] ${target}
}

livecheck.type      regex
livecheck.regex     {V([0-9]+)}
livecheck.url       ${homepage}
