# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0

categories          fonts
name                CommitMono
version             136
revision            0

description         An anonymous and neutral coding font focused on creating a better reading experience.
long_description    {*}${description}

homepage            https://commitmono.com/

platforms           {darwin any}
supported_archs     noarch
maintainers         {amake @amake} openmaintainer
license             OFL

use_configure       no

master_sites        https://commitmono.com/src/fonts/

distfiles           ${name}V${version}-450Regular.otf \
                    ${name}V${version}-450Italic.otf \
                    ${name}V${version}-700Regular.otf \
                    ${name}V${version}-700Italic.otf

checksums           ${name}V${version}-450Regular.otf \
                        rmd160  9323abf9116089af530bb89cf87af9ebca04c4c0 \
                        sha256  3de235db8dbf7f5de5988077b0fc2853fc20a252fb7ff482b56027cba8414cc5 \
                        size    152144 \
                    ${name}V${version}-450Italic.otf \
                        rmd160  73fadc3b6f4ebcf2c049f2727150feca2942f548 \
                        sha256  58eeccd9545903ee4dc0232a33a3c00534472585dd66713ec1437be7afde772e \
                        size    157692 \
                    ${name}V${version}-700Regular.otf \
                        rmd160  026d981c87ff3c0e38205613e02241f55687da3f \
                        sha256  2426dc2411c2d7940084c0d76f92f7096d4c2eaccd59482a52cc2999b94206ff \
                        size    153696 \
                    ${name}V${version}-700Italic.otf \
                        rmd160  766002066a464721c6827252b1fae2043eec47b0 \
                        sha256  7d1e287a56ce4f5e0e8d2514339daf46b2c3bcae0264ed7fba9eb5bdd6a33f07 \
                        size    156916

build {}

destroot.violate_mtree yes

destroot {
    set target ${destroot}/Library/Fonts/
    xinstall -m 0755 -d ${target}
    copy {*}[glob ${distpath}/${name}V${version}*.otf] ${target}
}

livecheck.type      regex
livecheck.regex     {V([0-9]+)}
livecheck.url       ${homepage}
